<xng-breadcrumb>
  <ng-container *xngBreadcrumbItem="let breadcrumb; let info = info">
    <mat-icon *ngIf="info">{{ info }}</mat-icon>
    <ng-container>{{ breadcrumb }}</ng-container>
  </ng-container>
</xng-breadcrumb>

<div class="row gap-6">
  <div class="d-flex flex-column gap-3 mt-4 col-4">
    <input
      type="text"
      class="form-control"
      placeholder="Enter username"
      [(ngModel)]="userProfile.userName"
    />
    <input
      type="email"
      class="form-control"
      placeholder="Enter email"
      [(ngModel)]="userProfile.email"
    />
    <div class="input-group">
      <input
        placeholder="Enter your old password"
        [type]="passwordTextType ? 'text' : 'password'"
        class="form-control bg-light mt-2"
        [(ngModel)]="userProfile.oldPassword"
        name="password"
      />
      <div class="input-group-append mt-2 d-flex">
        <span class="input-group-text">
          <i
            class="fa"
            [ngClass]="{
              'fa-eye-slash': !passwordTextType,
              'fa-eye': passwordTextType
            }"
            (click)="togglePassword()"
          ></i>
        </span>
      </div>
    </div>
    <div class="input-group">
      <input
        placeholder="Enter your new password"
        [type]="newPasswordTextType ? 'text' : 'password'"
        class="form-control bg-light mt-2"
        [(ngModel)]="userProfile.newPassword"
        name="password"
      />
      <div class="input-group-append mt-2 d-flex">
        <span class="input-group-text">
          <i
            class="fa"
            [ngClass]="{
              'fa-eye-slash': !newPasswordTextType,
              'fa-eye': newPasswordTextType
            }"
            (click)="toggleNewPassword()"
          ></i>
        </span>
      </div>
    </div>
    <div class="d-flex justify-content-end mt-3">
      <button type="button" class="btn btn-primary" (click)="saveProfile()">
        <span
          *ngIf="isLoading"
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
        ></span>
        <span *ngIf="isLoading" class="sr-only"></span>
        <span *ngIf="!isLoading">
          <fa-icon [icon]="faSave"></fa-icon>
          Save
        </span>
      </button>
    </div>
  </div>

  <div class="col-3 mt-4 d-flex flex-column align-items-center">
    <img
      [src]="avatarUrl"
      class="avatar-img mb-2 cursor-pointer"
      (click)="onAvatarClick()"
    />

    <input
      type="file"
      #fileInput
      accept="image/*"
      (change)="onFileSelected($event)"
      class="display-none"
    />
    <small class="text-muted">Click the avatar to change picture</small>
  </div>
</div>
