<div class="card">
  <div class="card-header">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="card-title">Add contribution</h5>

      <button mat-icon-button class="small" (click)="this.dialogRef.close()">
        <i class="material-icons fs-4">close</i>
      </button>
    </div>
  </div>
  <div class="card-body">
    <div *ngIf="isLoading" class="d-flex justify-content-center">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <div *ngIf="!isLoading" class="d-flex flex-column">
      <div class="form-group">
        <label for="Note">Note:</label>
        <textarea
          name="Note"
          id="Note"
          rows="4"
          cols="40"
          class="form-control mt-3"
          placeholder="Enter your contribution note..."
          [(ngModel)]="note"
        ></textarea>
      </div>
      <div class="form-group mt-3 d-flex align-items-center gap-3">
        <button
        class="btn btn-sm btn-outline-success d-flex align-items-center"
          nbButton
          (click)="File.click()"
          title="Upload Attachment"
        >
        <i class="fa fa-upload me-2" aria-hidden="true"></i>

          Upload File :
          <input
            class="d-none"
            type="file"
            #File
            (change)="onFileUploadChange($event)"
          />
        </button>

        <div class="file-list">
          <span class="filename-size" *ngIf="selectedFile === null; else fileItems">No file selected</span>
          <ng-template #fileItems>
              <div class="file-item rounded-left d-flex align-items-center">
                <span
                  class="border border-default border-right-0 rounded-left py-1 px-2 filename-size"
                >
                 {{ selectedFile["name"] }}
                </span>
                <span
                  class="border border-danger rounded-right bg-danger-light py-1 px-2"
                >
                <i class="material-icons delete-icon text-danger"
                (click)="deleteFiles()"
                >close</i>
                </span>
              </div>
          </ng-template>
        </div>
      </div>



      <div class="align-self-end">
        <button 
        [disabled]="!isValid()"
        type="button" class="btn btn-primary" (click)="add()">
          Add Contributor
        </button>

      </div>
    </div>
    <p-toast />
  </div>
</div>

